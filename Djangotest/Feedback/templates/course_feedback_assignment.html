{% load static %}
<html>
    <head>
        <title>Course Feedback Assignment</title>
        <script src="{% static 'include.js' %}"></script>
        <link rel="stylesheet" href="{% static 'w3.css'%}"/>
        <script type="text/javascript" src="{% static 'minifiedjq.js' %}"></script>
        <link rel="stylesheet" href="{%static 'jquery-ui.min.css'%}"/>
        <script type="text/javascript" src="{% static 'jquery-ui.min.js' %}"></script>
         <script>
          $(function() {
            $( ".datepicker" ).datepicker({
              changeMonth: true,
              changeYear: true,
              yearRange: "1900:2100",
              // You can put more options here.

            });
          });
        </script>
        <script>
            function submit(form_id){
                var form = document.getElementById(form_id);
                form.submit()
            }
        </script>
        <script>
        $(document).ready(function(){
           $( "#searchleft" ).keyup(function(){
                regdnos=[];
                regdnos = $('.regdnoleft').map(function () { return $(this).text(); }).get();
                var search = $('#searchleft').val();
                var arrayLength = regdnos.length;
                for (var i = 0; i < arrayLength; i++) {
                   if ( regdnos[i].indexOf(search) == -1 ) {
                           $('.'+regdnos[i]).hide()
                    }
                    else
                    {
                         $('.'+regdnos[i]).show()
                    }
                }
            });
            $( "#searchright" ).keyup(function(){
                regdnos=[];
                regdnos = $('.regdnoright').map(function () { return $(this).text(); }).get();
                var search = $('#searchright').val();
                var arrayLength = regdnos.length;
                for (var i = 0; i < arrayLength; i++) {
                   if ( regdnos[i].indexOf(search) == -1 ) {
                           $('.'+regdnos[i]).hide()
                    }
                    else
                    {
                         $('.'+regdnos[i]).show()
                    }
                }
            });
        });
        </script>
        <!--<link rel="stylesheet" type="text/css" href="/static/admin/css/base.css" />-->
        <style>
            .reset{
                all: initial;
                {
                   all: unset;
                }
            }
            select{
                width:300px;
            }
            .scroll{
                overflow:scroll;
                height:20px;
            }
            .w3-blackboard,.w3-hover-blackboard:hover{color:#fff!important;background-color:#565656!important};
            .w3-tan,.w3-hover-tan:hover{color:#fff!important;background-color:#c09f80!important};
        .scroll {
            width: 716px; /* 140px * 5 column + 16px scrollbar width */
            border-spacing: 0;
        }

        tbody, thead tr { display: block; }

        .scroll tbody {
            height: 200px;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .scroll tbody td, .scroll thead th {
            width: 140px;
        }

        .scroll thead th:last-child {
            width: 156px; /* 140px + 16px scrollbar width */
        }
        </style>
        {{ form.media }}
    </head>
    <body style="background-color:#e9e9e9">
        <div w3-include-html="dept_admin.html"></div>
        {% if error %}
            <div style="position:absolute; width:100%; z-index:100;" class="w3-center w3-panel w3-animate-opacity w3-red">
                <span onclick="this.parentElement.style.display='none'" class="w3-closebtn">&times;</span>
                <h3>{{ error|safe }}</h3>
            </div>
        {% endif %}
        <div style="margin: 5% 5% 0% 5%" class="w3-responsive w3-oxblood">
            <h3 class="w3-center">Course Registration</h3>
        </div>
        <div style="margin: 0% 5% 2% 5%" class="w3-responsive w3-white">
             <div style="margin: 3% 5% 2% 5%">
                <center>
                <form name="course_select" method="post">
                    {{ selection_form | safe}}
                </form>
                </center>
            </div>
            <div style="margin: 2% 5% 2% 5%" class="w3-responsive w3-center">

                <table width="100%" class="w3-table w3-center" align="center">
                    <tr>
                        <td rowspan="5">
                            <table align="center" class="w3-table-all scroll" style="width:50%">
                                <thead>
                                    <tr class="w3-blackboard"><td class="w3-center" colspan="2">Unregistered Candidates</td></tr>
                                    <tr>
                                        <td colspan="2">
                                            <input type="text" id="searchleft">
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                <form method="post" id="form1" class="form" name="form1">

                                    {% for student in low %}
                                        <tr>
                                           <td><input type="checkbox" class="w3-check"
                                               id="id_form-{{ forloop.counter0 }}-check"
                                                name="form-{{ forloop.counter0 }}-check"/>
                                           </td>
                                            <td class="w3-padding-right regdnoleft {{  form.student_reg_no__student_reg_no__student_reg_no }}">{{ student.student_reg_no__student_reg_no__student_reg_no }}</td>
                                        </tr>
                                    {% endfor %}
                                    <input type="hidden" value="{{ course_code }}" id="course_code"/>
                                    <input type="hidden" value="{{ cycle_no }}" id="cycle_no"/>
                                </form>
                                </tbody>
                            </table>
                        </td>
                        <td></td>
                        <td rowspan="5">
                            <table align="center " class="w3-table-all scroll" style="width:50%">
                                <thead>
                                    <tr class="w3-blackboard" ><td class="w3-center" colspan="2">Registered Candidates</td></tr>
                                    <tr><td colspan="2">
                                            <input type="text" id="searchright">
                                        </td>
                                    </tr>
                                </thead>
                                <tbody>
                                <form method="post" id="form2" class="form" name=form2">

                                    {% for student in high %}
                                        <tr>
                                            <td><input type="checkbox" class="w3-check"
                                               id="id_form-{{ forloop.counter0 }}-check"
                                                name="form-{{ forloop.counter0 }}-check"/>
                                            </td>
                                            <td class="w3-padding-right regdnoright {{ form.student_reg_no__student_reg_no__student_reg_no }}">{{ student.student_reg_no__student_reg_no__student_reg_no }}</td>
                                        </tr>
                                    {% endfor %}
                                    <input type="hidden" value="{{ course_code }}" id="course_code"/>
                                    <input type="hidden" value="{{ cycle_no }}" id="cycle_no"/>
                                </form>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr><td>
                        <!--document.forms['unreg_form'].submit()-->
                        <button onclick="submit('form1')"
                                class="reset w3-btn-floating w3-blackboard"
                                style="margin-top:35px">&rarr;
                        </button>
                    </td></tr>
                    <tr><td>
                        <button onclick="submit('form2')"
                                class="reset w3-btn-floating w3-blackboard"
                                style="margin-top:35px">&larr;
                        </button>
                    </td></tr>
                    <tr><td></td></tr>
                    <tr><td></td></tr>
                </table>
            </div>
        </div>
    </body>
    <script>

        w3IncludeHTML();
    </script>
</html>